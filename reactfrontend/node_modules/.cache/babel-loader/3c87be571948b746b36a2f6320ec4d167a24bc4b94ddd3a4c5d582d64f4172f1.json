{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport axiosInstance from \"../auth/axios\";\nconst RefreshAccess = () => {\n  _s();\n  useEffect(() => {\n    const refreshToken = localStorage.getItem(\"refresh\");\n    if (refreshToken) {\n      const interval = setInterval(() => {\n        axiosInstance.post(\"http://localhost:8000/api/v1/token/refresh/\", {\n          refresh: refreshToken\n        }).then(res => {\n          localStorage.setItem(\"access\", res.data.access);\n        }).catch(err => {\n          console.error(\"Error refreshing access token:\", err);\n        });\n      }, 4 * 60000); // Refresh token every 4 minutes\n\n      // Cleanup the interval on component unmount\n      return () => clearInterval(interval);\n    }\n  }, []); // Empty dependency array ensures this effect runs once\n\n  return null; // No UI to render\n};\n_s(RefreshAccess, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = RefreshAccess;\nexport default RefreshAccess;\nvar _c;\n$RefreshReg$(_c, \"RefreshAccess\");","map":{"version":3,"names":["useEffect","axiosInstance","RefreshAccess","_s","refreshToken","localStorage","getItem","interval","setInterval","post","refresh","then","res","setItem","data","access","catch","err","console","error","clearInterval","_c","$RefreshReg$"],"sources":["/home/austin/Desktop/side_project/reactfrontend/src/utils/tokenRefresh.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport axiosInstance from \"../auth/axios\";\n\nconst RefreshAccess = () => {\n  useEffect(() => {\n    const refreshToken = localStorage.getItem(\"refresh\");\n\n    if (refreshToken) {\n      const interval = setInterval(() => {\n        axiosInstance\n          .post(\"http://localhost:8000/api/v1/token/refresh/\", {refresh: refreshToken})\n          .then((res) => {\n\n            localStorage.setItem(\"access\", res.data.access);\n          })\n          .catch((err) => {\n            console.error(\"Error refreshing access token:\", err);\n          });\n      }, 4 * 60000); // Refresh token every 4 minutes\n\n      // Cleanup the interval on component unmount\n      return () => clearInterval(interval);\n    }\n  }, []); // Empty dependency array ensures this effect runs once\n\n  return null; // No UI to render\n};\n\nexport default RefreshAccess;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,aAAa,MAAM,eAAe;AAEzC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1BH,SAAS,CAAC,MAAM;IACd,MAAMI,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAEpD,IAAIF,YAAY,EAAE;MAChB,MAAMG,QAAQ,GAAGC,WAAW,CAAC,MAAM;QACjCP,aAAa,CACVQ,IAAI,CAAC,6CAA6C,EAAE;UAACC,OAAO,EAAEN;QAAY,CAAC,CAAC,CAC5EO,IAAI,CAAEC,GAAG,IAAK;UAEbP,YAAY,CAACQ,OAAO,CAAC,QAAQ,EAAED,GAAG,CAACE,IAAI,CAACC,MAAM,CAAC;QACjD,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;UACdC,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEF,GAAG,CAAC;QACtD,CAAC,CAAC;MACN,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;;MAEf;MACA,OAAO,MAAMG,aAAa,CAACb,QAAQ,CAAC;IACtC;EACF,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,OAAO,IAAI,CAAC,CAAC;AACf,CAAC;AAACJ,EAAA,CAvBID,aAAa;AAAAmB,EAAA,GAAbnB,aAAa;AAyBnB,eAAeA,aAAa;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}